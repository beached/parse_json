include( ExternalProject )

externalproject_add(
	header_libraries_prj
	GIT_REPOSITORY "https://github.com/beached/header_libraries.git"
	GIT_TAG "master"
	SOURCE_DIR "${CMAKE_BINARY_DIR}/deps/headlibs"
	INSTALL_DIR "${CMAKE_BINARY_DIR}/install"
	CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${CMAKE_BINARY_DIR}/install
)

externalproject_add(
	utf_range_prj
	GIT_REPOSITORY "https://github.com/beached/utf_range.git"
	GIT_TAG "master"
	SOURCE_DIR "${CMAKE_BINARY_DIR}/deps/chrrng"
	INSTALL_DIR "${CMAKE_BINARY_DIR}/install"
	CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${CMAKE_BINARY_DIR}/install
)

externalproject_add(
	date_prj
	GIT_REPOSITORY "https://github.com/beached/date.git"
	SOURCE_DIR "${CMAKE_BINARY_DIR}/dependencies/date"
	GIT_TAG "master"
	INSTALL_DIR "${CMAKE_BINARY_DIR}/install"
	CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${CMAKE_BINARY_DIR}/install -DCMAKE_CXX_STANDARD=${CMAKE_CXX_STANDARD} -DUSE_SYSTEM_TZ_DB=ON -DENABLE_DATE_TESTING=OFF
)

#externalproject_add(
#	JSONTestSuite
#	GIT_REPOSITORY "https://github.com/nst/JSONTestSuite.git"
#	GIT_TAG "master"
#	SOURCE_DIR "${CMAKE_BINARY_DIR}/tests"
#	CONFIGURE_COMMAND ""
#	INSTALL_COMMAND ""
#	TEST_COMMAND ""
#	BUILD_COMMAND ""
#)

include_directories( SYSTEM "${CMAKE_BINARY_DIR}/install/include" )
link_directories( "${CMAKE_BINARY_DIR}/install/lib" )

set( DEP_PROJECT_DEPS header_libraries_prj utf_range_prj date_prj )
#set( DEP_PROJECT_DEPS header_libraries_prj utf_range_prj date_prj JSONTestSuite )

